---
title: "既存JavaプロジェクトをModule System(Project Jigsaw)に対応させるステップ"
description: "既に稼働しているJavaアプリケーションをJava9のProject Jigsaw(Modular System)に適用させるためのステップをまとめました"
date: 2018-02-04 00:00:00 +0900
categories: java
tags: java java9 modular jigsaw gradle springboot modulepath JPMS
lang: ja
---

* Table Of Contents
{:toc}

## はじめに
今回はJava 9(Module System)移行に関して説明します。
自身で手を動かすことで、JavaのプロダクションコードをJPMSに適用するための作業手順が

実は社内向けにも同様の発表はしていて、その際のスライドは以下になります。
少しネガティブなニュアンスで資料を書いていますが、社内の(いろんな意味で)危機意識を煽るため、という背景もあったので、その点ご了承ください。


## 注意点
2018/1時点での情報を基に記載をしていますので、今後変更になる可能性があります。
参照される場合には、最新の情報と照らし合わせながら適宜情報の補填を行っていただければと思います。

## どうなる？私たちのJavaアプリケーション
Java9で導入された `Java Platform Module System(JPMS)` の仕様により、
JDKを差し替えただけでは既存のJavaアプリケーションが動かない可能性が高い、
というのをご存知の方は多いことと思います。
ただ、ここではまず最初に、足元のJPMSに限らず、Javaエンジニアが把握しておくべき今後の全体的な流れについて触れておきます。

### 半年に1回のJava SEのリリース
昨年のJava Oneにて Java9 以降のJavaのリリースロードマップが発表されました。
要点だけまとめると以下になります。

* リリース頻度は半年に1度(次は2018/3、その次は2018/9)
* バージョニングは `9`, `10`, `11`
    * Oracle社のページでは `yy.MM` 形式で記載されているで注意
* 時間軸でリリースがされていくため、期限までに実装終了したフィーチャーがリリース対象の機能として取り込まれる
    * early access buildはリリース3ヶ月前から提供される

### ウォッチすべき話題はJavaのサポート期限
Javaのリリースロードマップの中で注目すべきは *サポート期限* です。
リリースラインが1本化されたことで、複数のJavaのバージョンが並行サポートされることがなくなります。
つまり、Javaの進化に合わせて、自分のプロダクトも追随していく必要がある、というわけです。

一見わかりやすくはあるものの、アプリケーションのリリースサイクルやリリースタイミングが柔軟にコントロールできない
プロジェクトにとって、このJavaのリリースサイクルに追従していくのは容易なことではありません。

特にJavaの場合には周辺

## Module Systemのおさらい


### マイグレーションを妨げるModule System最大の敵



## プロダクションコードをModule Systemに適用するためのステップ

### 1. Module Systemの基礎を勉強する

### 2. 依存ライブラリのバージョンアップを行う

### 3. Unnamed Moduleにマイグレーションする

### 4. Named Moduelにマイグレーションする

### 5. 負荷試験とリソースモニタリングをする


## まとめ

### マイグレーション時には細かなリリースをする

## 参考にさせていただいたページ

