---
title: "builderscon 2018 Tokyo に行ってきた"
description: ""
date: "2018-09-07T09:48:44+09:00"
thumbnail: ""
categories:
  - event
tags:
  - event
draft: true
isCJKLanguage: true
twitter_card_image: /images/soudegesu.jpg
---

2018/09/06から2018/09/08 の日程で [builderscon 2018 Tokyo](https://builderscon.io/) が開催されました。

家族の体調の都合で 2018/09/08 (最終日) は参加できず、家でベルセルクを見るというギャップがやばすぎましたが、 **「ブログを書くまでが builderscon です！」**  と運営のお姉さんにもリマインドされましたので、書けるところだけ書こうと思います。


## Opening

オーガナイザーである [@lestrrat](https://twitter.com/lestrrat) さんによるオープニングトーク。

オープニングトークと言っても、内容は主にイベント過ごし方における注意点でした。 [@lestrrat](https://twitter.com/lestrrat) さん曰く「本番でしゃべらなくて済むように」とのことでしたが、あれはあれで準備コストが高そうでした。

### 参加者もプロフェショナルとして相手と接すること

Openingで個人的に感動したのは、 **参加者にもプロフェッショナリズムを意識させた** 点です。

最近はQ&Aタイムにおけるマサカリや、オンライン上でマウントトークが発生するなど、息苦しさを感じる場面もあるようです。
「お互いプロフェッショナルなんだから、お互いを尊重しましょう」というあの１シーンがあっただけで、イベントの治安がだいぶ良くなったのではないかと思います。

### 「知らなかった、を知る」

というイベントテーマのチョイスも良かったです。

日本では **「知らない＝恥」** という世知辛い場面に出くわすことがありますが、今回はそれがありませんでした。

以前、[DevRelCon 2017 Tokyo](https://tokyo-2017.devrel.net/) に参加したとき、外国人がめちゃめちゃ多かったのですが、
**知らないことは「ここ教えてくれ」と積極的に質問していたし** 、情報のgive&takeが活発だったので、「あー、いいイベントだな」と感じたのを覚えています。

[builderscon](https://builderscon.io/) 自体に技術的な縛りがないですし、加えて今回のテーマ **「知らなかった、を知る」** もあってか、 **知らないことに対する寛容さ** みたいなもの感じました。というかセッションテーマ的に「こんなん知らんし」なモノも多かったですし笑

## Envoy internals deep dive

[Lyft](https://www.lyft.com/app-sms) 社の [@mattklein123](https://twitter.com/mattklein123) さんが [Envoy](https://www.envoyproxy.io/) の仕組みについて発表してくれました。

当日の発表資料は見つかりませんでしたが、[KubeCon](https://events.linuxfoundation.org/events/kubecon-cloudnativecon-north-america-2018/) での発表動画が youtube にアップロードされていました。動画を拝見した所、資料も同様でしたので（細部は修正されているかもしれません）、そちらのリンクを掲載しておきます。

<iframe id="player" type="text/html" width="640" height="360"
  src="http://www.youtube.com/embed/gQF23Vw0keg?enablejsapi=1&origin=http://www.soudegesu.com"
  frameborder="0"></iframe>

メインテーマは [Envoy](https://www.envoyproxy.io/) の仕組みの話になるのですが、
予習せずに聞いた身としては、なかなか理解が難しかったです。途中から完全に置いていかれてしまいました。

[Lyft](https://www.lyft.com/app-sms) は5年前まではモノリスなアーキテクチャ、3年前からマイクロサービスアーキテクチャに移行していったが、課題が様々あったそうです。そして、開発者はマイクロサービスが嫌いになっていた、、、というようなことが説明されます。

トレーサビリティも下がりますし、レイテンシーも気になってくるしで、マイクロサービスであるが故の課題に対する打ち手としての [Envoy](https://www.envoyproxy.io/) が爆誕することになります。

残念ながら、私の観測範囲で絶賛マイクロサービス中なプロダクトはほぼ無いので、 [Envoy](https://www.envoyproxy.io/) がどれほどイケているかを熱く語ることはできませんが、「次のプロダクトではこっそり入れてみるか」と思わせる誘惑がありました。

一応誤解がないように言っておくと、個人的には **「プロダクトチームが、ちゃんとしたシステムをモノリスでもいいから作れるかどうか」** を重視していますし、マネタイズの過程で肥大化していったモノリスが、自分たちの明日の生活費を稼いでくれていたりもするので、モノリス vs マイクロサービス の構図はあまり好きではありません。 

とはいえ確かに、肥大化しすぎたモノリスは確実にヒデブなので、マイクロサービスへのマイグレーションタイミングの見極めスキルを鍛えつつ、
そのタイミングまでに [Envoy](https://www.envoyproxy.io/) は触っておくと良さそうだ、と感じました。

## 設計原則のはなし

ケースバイケースは答えを出していないことと同義である

問題に対して最適だね？

抽象化ってなんやねん
責務とか考え方次第やろ

SystemManagerって「お、おうってなる」

特定の視点から語られることがあって（抜けている視点がある）、全体かんｇあわからあい


マルチパラダイムデザイン

やみくもに分割してよいのか？
→ よくない


複数の分割構造の選択肢から、今ある問題に対して最適な背託しを選ぶこと

デザパタは分割構造の実現方法のカタログ

・パターンをつかたりして構造を作る
・設計原則を使って適用する、コードをレビューする
を行ったり来たり


チームの力を鍛えるためにも、きちんと言語化できることがよい

単一責任原則
・１つのモジュールには１つの責務を持たせる
　→ あるクラスを変更する理由がふたつあってはいけない
　→ 仕事のしすぎだから要分割

開放閉鎖原則
・拡張に対して開いている
　他のクラスに影響がないようにする
・修正に対して閉じている

凝集度と結合度
・関連するものはひとつにまとめる
・

設計原則の適用するフェーズがあるかも

問題を再度考え直すと開放閉鎖原則の適用の仕方も変わる

[FizzBuzzEnterpriseEdition](https://github.com/EnterpriseQualityCoding/FizzBuzzEnterpriseEdition)

## 静的検査のいろは

[発表資料](https://t.co/o6RHRiCEJz)

静的解析を構成する

抽象構文木を理解する
・

## i18nの未来

エンコードや多言語対応を進めるにあたって、思うところがあった。

＊ l10nは特定の文化、言語や、地域に合わせる

何が問題なのか？

* 2つの国に複数の言語がある場合
方言
ミドルネーム

* 放置る
  * 税金
  * GDPR

* 文化
  * 食べ物

* 文字
  * 右から左
  * 縦書き

* 

* DX(Developer Experience)が必要だ

## Javaカードの世界

SIMカードの大半はJavaで動いている
クレカとかも

Java Cardはfloatが使えない

ISO 7816で定義されている

タイプは2種類

メモリが3種類
* 永続的メモリ
* 永続的で書き換え狩野
* 非永続的


APDUがプロトコル

UICC

Java Cardの実行基盤

## lldリンカ

Turing Complete FM

lldとは
LLVMのサブプロジェクト
* ELF,COEF,MAch-O,WebAssemblyをサポート
* とにかく高速

採用事例
FreeBSDの次期バージョン/usr/bin/ldはlld
Chrome/Windows, Linux
Firefox/Windows
Rust/ARM

リンカとは
オブジェクトファイルを１つの実行ファイルやDLLにまとめるプログラム

gnu goldはELFオンリーなリンカ

コンパイラは関数のアドレスを知らない。
リンカ対する命令

リンカのしごと
1.名前解決
2.

開発のきっかけ
システムズぽい社内転職を試みた
「コンパイラとリンカ作らないとけないけど、どっちがいい？」
リンカ


データ構造が重要。コードはデータ構造が決まれば自然と書ける。
メモリのローカリティを意識する
